<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>


        .demo {
            width: 100px;
            height: 100px;
            border: 1px solid black;
            background-color: orange;
        }


    </style>
</head>
<body>


<div class="demo"></div>


<script src="../jq/jquery-2.2.4.js"></script>

<script>


    /**
     * $.Callbacks();
     *
     * 返回一个 callback 的类数组
     */

    /**
     * add(param1, param2 ...);
     *
     * 添加参数至 Callback 类数组
     */

    /**
     * fire();
     *
     * 调用 Callback 类数组中的处理函数
     */


    // let callbackArrObj = $.Callbacks();

    // let callbackArrObj = $.Callbacks('once');               // once: 只能执行一次

    let callbackArrObj = $.Callbacks('memory');               // 后添加的也能执行( 带有记忆功能 )


    function callback1(param) {

        console.log('callback1' + param);
    }

    function callback2(param) {

        console.log('callback2' + param);
    }

    callbackArrObj.add(callback1, callback2);

    callbackArrObj.fire(' invoking one');

    function callback3(param) {

        console.log('callback3' + param)
    }

    callbackArrObj.add(callback3);

    $('.demo').on('click', function () {

        if (1 > 0) {

            callbackArrObj.fire('hello world');
        }

    });

</script>

</body>
</html>